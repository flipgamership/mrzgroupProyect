<%- include('./partials/nav.ejs') %>

<link rel="stylesheet" href="css/styleLogin.css" />

<body class="login">
  <div class="container" style="margin-top: 70px">
    <div class="row justify-content-center">
      <div class="col-lg-5 col-md-8 col-sm-8 pb-4">
        <div
          class="card m-sm-2 p-sm-3 p-md-3"
          style="
            box-shadow: -0.843887px 1.81324px 156px rgba(0, 0, 0, 0.05),
              -0.496881px 1.06764px 81.3696px rgba(0, 0, 0, 0.03616),
              -0.255191px 0.548325px 38.1888px rgba(0, 0, 0, 0.02808),
              -0.102617px 0.220491px 16.7232px rgba(0, 0, 0, 0.02192),
              -0.0229537px 0.0493202px 7.2384px rgba(0, 0, 0, 0.01384);
          "
        >
          <div class="card-title text-center">
            <h2 class="p-3">Editar contraseña del usuario</h2>
          </div>
          <div class="card-body">
            <form action="/sendPasswordClient" method="POST">
              <input type="hidden" name="id" value="<%= user.id %>" />
              <div class="mb-4">
                <label for="usuario">Correo electrónico</label>
                <input
                  placeholder="Usuario"
                  type="email"
                  class="form-control"
                  name="correo"
                  value="<%= user.correo %>"
                  readonly
                />
              </div>
              <div class="form-outline mb-4">
                <label class="form-label" for="form2Example22"
                  >Contraseña Nueva</label
                >

                <div class="input-group mb-3">
                  <input
                    type="password"
                    class="form-control"
                    id="newPassword"
                    name="password"
                    placeholder="Contraseña"
                    aria-label="Recipient's username"
                    aria-describedby="button-addon2"
                    required
                  />
                  <button
                    class="btn btn-outline-secondary"
                    onclick="mostrarPassword()"
                    type="button"
                    id="viewPass"
                  >
                    <i class="bx bx-low-vision"></i>
                  </button>
                  <script>
                    function mostrarPassword(){
                                                    var viewNewPass = document.getElementById("newPassword");
                                                    if(viewNewPass.type == "password"){
                                                        viewNewPass.type = "text";
                                                    }else{
                                                        viewNewPass.type = "password";
                                                    }
                                                } 
                  </script>
                </div>
              </div>
              <div class="d-grid">
                <button
                  type="submit"
                  class="btn btn-primary"
                  style="background: #000e7c"
                >
                  Editar Usuario
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src=" //cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <% if(typeof alert !="undefined" ) { %>
  <script>
    Swal.fire({
      title: "<%=alertTitle %>",
      text: "<%= alertMessage%>",
      icon: "<%=alertIcon %>",
      showConfirmButton: "<%= showConfirmButton %>",
      timer: "<%= timer %>",
    }).then(() => {
      window.location = "/<%= ruta %>";
    });
  </script>
  <% } %>
  <!-- <script type="text/javascript">
    function mostrarPassword() {
      var cambio = document.getElementById("txtPassword");
      if (cambio.type == "password") {
        cambio.type = "text";
        $(".icon").removeClass("fa fa-eye-slash").addClass("fa fa-eye");
      } else {
        cambio.type = "password";
        $(".icon").removeClass("fa fa-eye").addClass("fa fa-eye-slash");
      }
    }
    $(document).ready(function () {
      //CheckBox mostrar contraseña
      $("#ShowPassword").click(function () {
        $("#Password").attr(
          "type",
          $(this).is(":checked") ? "text" : "password"
        );
      });
    });
  </script> -->
  <script>
    var inputs = $("input[type=text]");
    for (var i = 0; i < inputs.length; i++) {
      var aux = $(inputs[i]).val().trim();
      $(inputs[i]).val(aux);
    }
  </script>

  <%- include('./partials/footer.ejs') %>
</body>
